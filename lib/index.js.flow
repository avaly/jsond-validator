/**
 * @flow
 */

export type JSONDValidatorSchema =
	| string
	| Array<JSONDValidatorSchema>
	| { [key: string]: JSONDValidatorSchema };

export type JSONDValidatorError = {
	code: string,
	path: Array<string>,
};

export type JSONDValidatorResult = {
	errors: Array<JSONDValidatorError>,
	valid: boolean,
	warning?: string,
};

declare class JSONDValidator {
	constructor(): void,
	schemas: { [key: string]: JSONDValidatorSchema },
	addSchema(schemaID: string, schema: JSONDValidatorSchema): this,
	getDereferencedSchema(schemaID: string): JSONDValidatorSchema,
	validate(data: any, schemaID: string): JSONDValidatorResult,
}

declare module.exports: Class<JSONDValidator>;

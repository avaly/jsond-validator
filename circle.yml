machine:
  node:
    version: 6.1.0

general:
  branches:
    ignore:
      - gh-pages

test:
  pre:
    - "npm run lint"
  override:
    - "nvm use 4.5.0 && npm run test"
    - "nvm use 5.7.0 && npm run test"
    - "nvm use 6.1.0 && npm run test"
    - "nvm use 6.1.0 && npm run test-client"
    - "nvm use 6.1.0 && npm run test-saucelabs"
    - "nvm use 6.1.0 && npm run coverage"

deployment:
  docs:
    branch: master
    commands:
      - "./tools/docs"
      - "./tools/publish"
